
# SONAR MOSAIC BUILDER

**Sonar Track Processing Toolkit** ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ –≥–∏–¥—Ä–æ–ª–æ–∫–∞—Ç–æ—Ä–∞ –±–æ–∫–æ–≤–æ–≥–æ –æ–±–∑–æ—Ä–∞ (–ì–ë–û), –≤–∫–ª—é—á–∞—é—â–∏–π:
- –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é [–†–ê–°–¢–†-—Ñ–∞–π–ª–æ–≤](https://ocean.ru/index.php/scientific-directions/morskaya-tekhnika-i-metody-izmerenij/itemlist/category/145-laboratoriya-gidrolokatsii-dna "–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è –≥–∏–¥—Ä–æ–ª–æ–∫–∞—Ü–∏–∏ –¥–Ω–∞ –ò–û –†–ê–ù") –≤ —Ñ–æ—Ä–º–∞—Ç XTF;
- –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç—Ä–µ–∫–∞ –∏–∑ —Ñ–∞–π–ª–∞ XTF –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –µ–≥–æ –≤ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (Gauus-Kruger);
- –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∫–æ—Ä—Ä–µ–∫—Ü–∏—é –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ì–ë–û –Ω–∞ –Ω–∞–∫–ª–æ–Ω–Ω—É—é –¥–∞–ª—å–Ω–æ—Å—Ç—å;
- –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–æ–∑–∞–∏–∫–∏ –≤ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö;
- —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –≤–∏–¥–µ GeoTIFF —Å –≥–µ–æ—Ä–µ—Ñ–µ—Ä–µ–Ω—Ü–∏–µ–π.

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–í–µ—Ä—Å–∏—è **python 3.9.9**

–°–∫–∞—á–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ —Å–≤–æ–π –ü–ö –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

```bash
pip install -r requirements.txt
````


---


## –û–∫–Ω–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã

![image](https://github.com/oceanbreak/Sonarlab-Mosaic/blob/master/img/main_window.png)

## Quick start
1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É **Open folder** –¥–ª—è –≤—ã–±–æ—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –≤ –∫–æ—Ç–æ—Ä–æ–π –Ω–∞—Ö–æ–¥—è—Ç—Å—è —Ñ–∞–π–ª—ã –ì–ë–û. –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è ***directory*** –≤ –æ–∫–Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–∑–º–µ–Ω–∏—Ç—Å—è –Ω–∞ –ø—É—Ç—å –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –ø–∞–ø–∫–µ.
2. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∫–æ–Ω—Ñ–µ—Ä—Ç–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤ –Ω–∞–∂–∏–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É **Convert RASTR to XTF**.
3. –ü–æ—Å—Ç–∞–≤—å—Ç–µ –∏–ª–∏ —É–±–µ—Ä–∏—Ç–µ –≥–∞–ª–æ—á–∫—É —Å –ø–æ–ª—è ***Slant Range Correction*** –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ, —Ç—Ä–µ–±—É–µ—Ç—Å—è –ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –Ω–∞ –Ω–∞–∫–ª–æ–Ω–Ω—É—é –¥–∞–ª—å–Ω–æ—Å—Ç—å.
4. –ò–∑–º–µ–Ω–∏—Ç–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–æ—á–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **Apply**.
5. –î–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –º–æ–∑–∞–∏–∫–∏ –Ω–∞–∂–∏–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **Start**. –í –æ–∫–Ω–µ **Mosaic Preview** —Å–Ω–∞—á–∞–ª–∞ –ø–æ—è–≤–∏—Ç—Å—è –∏—Å—Ö–æ–¥–Ω–æ–µ –≥–∏–¥—Ä–æ–ª–æ–∫–∞—Ü–∏–æ–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –∞ –∑–∞—Ç–µ–º –ø–æ–ª—É—á–µ–Ω–Ω–∞—è –º–æ–∑–∏–∞–∫–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ XTF —Ñ–∞–π–ª–∞.
6. –ü–æ –æ–∫–æ–Ω—á–∞–Ω–∏–∏ —Ä–∞–±–æ—Ç—ã –≤ –æ–∫–Ω–µ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ—è–≤–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ ***Process fiinished***. –ì–æ—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã –º–æ–∑–∞–∏–∫ –≤ —Ñ–æ—Ä–º–∞—Ç–µ *GeoTIFF* –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ –ø–∞–ø–∫–µ *mosaic* –≤–Ω—É—Ç—Ä–∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å —Ñ–∞–π–ª–∞–º–∏ –ì–ë–û.

---
### –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∏–∑ –†–ê–°–¢–†

–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —á—Ç–æ–±—ã –≤ –ø–∞–ø–∫–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –Ω–∞–±–æ—Ä—ã —Ñ–∞–π–ª–æ–≤ –ø—Ä–∞–≤–æ–≥–æ, –ª–µ–≤–æ–≥–æ –∫–∞–Ω–∞–ª–æ–≤ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ `.lft, .rgt, .n_v`.
–ï—Å–ª–∏ –∫–∞–∫–æ–≥–æ-—Ç–æ –∏–∑ —Ñ–∞–π–ª–æ–≤ –Ω–µ –±—É–¥–µ—Ç, –ø—Ä–æ–≥—Ä–∞–º–º–∞ –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É.

### –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–æ–∑–∞–∏–∫–∏

–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ Start –ø—Ä–æ–≥—Ä–∞–º–º–∞:
  * –∏–∑–≤–ª–µ—á—ë—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã;
  * –≤—ã–ø–æ–ª–Ω–∏—Ç –∫–æ—Ä—Ä–µ–∫—Ü–∏—é –Ω–∞ –Ω–∞–∫–ª–æ–Ω–Ω—É—é –¥–∞–ª—å–Ω–æ—Å—Ç—å;
  * —Å–æ–∑–¥–∞—Å—Ç –≥–∏–¥—Ä–æ–ª–æ–∫–∞—Ü–∏–æ–Ω–Ω—É—é –º–æ–∑–∞–∏–∫—É;
  * —Å–æ—Ö—Ä–∞–Ω–∏—Ç GeoTIFF –∏ –¥–∞–Ω–Ω—ã–µ —Ç—Ä–µ–∫–∞ –≤ –ø—Ä–æ–µ–∫—Ü–∏–∏ –ì–∞—É—Å—Å–∞-–ö—Ä—é–≥–µ—Ä–∞.

  –ö–∞–∂–¥–æ–º—É XTF —Ñ–∞–π–ª—É –±—É–¥–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Å–≤–æ—è –º–æ–∑–∞–∏–∫–∞ –∏ —Å–≤–æ–π –Ω–∞–±–æ—Ä –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

---

## –í—ã—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã

\<name\> - –∏–º—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞ XTF.
* `mosaic/<name>.tif` ‚Äî –º–æ–∑–∞–∏–∫–∞ GeoTIFF —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω–æ–π –ø—Ä–∏–≤—è–∑–∫–æ–π
* `proc/<name>.csv` ‚Äî —Ç—Ä–µ–∫ —Å—É–¥–Ω–∞ –≤ WGS84
* `proc/<name>-GK.csv` ‚Äî —Ç—Ä–µ–∫ —Å—É–¥–Ω–∞ –≤ –≤ –ø—Ä–æ–µ–∫—Ü–∏–∏ –ì–∞—É—Å—Å–∞-–ö—Ä—é–≥–µ—Ä–∞
* `proc/<name>.gsr2` ‚Äî —Ñ–∞–π–ª –≥–µ–æ—Ä–µ—Ñ–µ—Ä–µ–Ω—Ü–∏–∏ Surfer
* `proc/<name>_Bottom_data.csv` ‚Äî –ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –æ—Ç—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∏–Ω–≥–∞ (–ª–∏–Ω–∏—è –¥–Ω–∞)


---

## –û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫

* `Directory` - –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å —Ñ–∞–π–ª–∞–º–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏. –ü–æ–ª–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –ø–∞–ø–∫–∏ —Å –ø–æ–º–æ—â—å—é –∫–Ω–æ–ø–∫–∏ **Open folder**. –ü—Ä–µ–¥—ã–¥—É—â–∏–µ –Ω–∞—Å—Ç—Ä–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è.
* `Map Scale` - –º–∞—Å—à—Ç–∞–± –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –º–æ–∑–∞–∏–∫–∏. –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å - ***–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∏–∫—Å–µ–ª–µ–π –Ω–∞ –º–µ—Ç—Ä.*** –ú–æ–∂–Ω–æ –≤–≤–æ–¥–∏—Ç—å —á–∏—Å–ª–æ –≤ –≤–∏–¥–µ –¥–µ—Å—è—Ç–∏—á–Ω–æ–π –¥—Ä–æ–±–∏ —á–µ—Ä–µ–∑ —Ç–æ—á–∫—É.
* `Cable out` - –¥–ª–∏–Ω–∞ –≤—ã—Ç—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –∫–∞–±–µ–ª—è –ø—Ä–∏ –±—É–∫—Å–∏—Ä–æ–≤–∫–µ. –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å - ***–º–µ—Ç—Ä—ã***, –≤–≤–æ–¥–∏—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º.
* `Image Margins` - –ø–æ–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–æ–∫—Ä—É–≥ –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –º–æ–∑–∞–∏–∫–∏. –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å - ***–ø–∏–∫—Å–µ–ª–∏***, –≤–≤–æ–¥–∏—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º. –ï—Å–ª–∏ –≤–∏–¥–∏–º—ã—Ö –æ–±—Ä–µ–∑–∞–Ω–Ω—ã—Ö —É—á–∞—Å—Ç–∫–æ–≤ –Ω–µ—Ç, –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–ª—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ 0.
* `Gamma` - –≥–∞–º–º–∞-–∫–æ—Ä—Ä–µ–∫—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç–∏. –ó–Ω–∞—á–µ–Ω–∏–µ 1.0 —Å–æ–æ—Ç–≤–µ—Ç–≤—É–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—é –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏.
* `Filter window size` - —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞ –¥–ª—è —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è —Ç—Ä–µ–∫–∞ –∏ –ø–æ–≤–æ—Ä–æ—Ç–æ–≤  –ø–∏–Ω–≥–æ–≤ –º–æ–∑–∞–∏–∫–∏. 0 - –Ω–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏.
* `Stripe thickness` - —à–∏—Ä–∏–Ω–∞ –ø–∏–Ω–≥–∞ –º–æ–∑–∞–∏–∫–∏. –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ - –æ—Ç 3 –¥–æ 5.  –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —É–¥–∞–ª–µ–Ω–∏–µ –≤–∏–¥–∏–º—ã—Ö —Å—Ç—ã–∫–æ–≤ –º–µ–∂–¥—É –ø–∏–Ω–≥–∞–º–∏.
* `Slant Range Correction` - –≤–∫–ª—é—á–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ –Ω–∞ –Ω–∞–∫–ª–æ–Ω–Ω—É—é –¥–∞–ª—å–Ω–æ—Å—Ç—å.
* `Start Bottom Search` - –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞ –ø–µ—Ä–≤–æ–≥–æ –æ—Ç—Ä–∞–∂–µ–Ω–∏—è. –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å - **–º–µ—Ç—Ä—ã**, –≤–≤–æ–¥–∏—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã—Å—Ç–∞–≤–∏—Ç—å, –µ—Å–ª–∏ –≤ —Å–∏–≥–Ω–∞–ª–µ —Ç–æ–ª—â–µ –≤–æ–¥—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç —è—Ä–∫–∞—è –ø–æ–º–µ—Ö–∞.
* `Convolution Window` - —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–≤–µ—Ä—Ç–∫–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–µ—Ä–≤–æ–≥–æ –æ—Ç—Ä–∞–∂–µ–Ω–∏—è. –í–≤–æ–¥–∏—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º. –°–∏–≥–Ω–∞–ª –∫–∞–∂–¥–æ–≥–æ –ø–∏–Ω–≥–∞ —Å–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è —Å —è–¥—Ä–æ–º, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–º —Å—Ç—É–ø–µ–Ω—á–∞—Ç—É—é —Ñ—É–Ω–∫—Ü–∏—é –æ—Ç -1 –¥–æ 1 —Å–æ —Å—Ç—É–ø–µ–Ω—å–∫–æ–π –≤ —Ü–µ–Ω—Ç—Ä–µ –æ–∫–Ω–∞.
* `First reflection shift` - —Å–º–µ—â–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ –æ—Ç—Ä–∞–∂–µ–Ω–∏—è, **–≤ –ø–∏–∫—Å–µ–ª—è—Ö**. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã—Å—Ç–∞–≤–∏—Ç—å, –µ—Å–ª–∏ –ø–æ—Å–ª–µ –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ –Ω–∞–∫–ª–æ–Ω–Ω–æ–π –¥–∞–ª—å–Ω–æ—Å—Ç–∏ –ø–æ —Ü–µ–Ω—Ç—Ä—É –æ—Å—Ç–∞–µ—Ç—Å—è –∫—É—Å–æ–∫ —Å–∏–≥–Ω–∞–ª–∞ –≤–æ–¥–Ω–æ–π —Ç–æ–ª—â–∏.

---

## üì¨ –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

–ï—Å–ª–∏ –≤—ã –Ω–∞—à–ª–∏ –±–∞–≥ –∏–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è ‚Äî —Å–æ–∑–¥–∞–π—Ç–µ [issue](https://github.com/oceanbreak/Sonarlab-Mosaic/issues).

---

